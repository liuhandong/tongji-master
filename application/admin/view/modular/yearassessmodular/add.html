<form id="add-form" class="form-horizontal form-ajax" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label for="rf_title" class="control-label col-xs-12 col-sm-2"><font color='red'>*</font>{:__('name')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" style="width: 220px;" id="name" name="row[name]" value="" data-rule="required;name" />
        </div>
    </div>
    <div class="form-group">
        <label for="code" class="control-label col-xs-12 col-sm-2"><font color='red'>*</font>{:__('seqn')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" style="width: 220px;" id="seqn" name="row[seqn]" value="" />
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2"><font color='red'>*</font>{:__('unitId')}:</label>
        <div class="col-xs-12 col-sm-8">
            <select name="row[unit_id]" class="selectpicker" style="width: 150px;">
                {foreach $unit_id as $k => $v}
                <option value="{$v.id}">{$v.unit_name}</option>
                {/foreach}
            </select>
        </div>
    </div>
    
    
    <div class="form-group">
        <label for="code" class="control-label col-xs-12 col-sm-2"><font color='red'>*</font>{:__('topic')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" style="width: 220px;" id="topic" name="row[topic]" value="" />
        </div>
    </div>
    
  
    <!--<div class="form-group">
        <label for="css_class" class="control-label col-xs-12 col-sm-2"><font color='red'>*</font>{:__('cssClass')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" style="width: 220px;"  id="css_class" name="row[css_class]" value="" data-rule="required;css_class" />
        </div>
    </div>
    <div class="form-group">
        <label for="form_type" class="control-label col-xs-12 col-sm-2">{:__('formType')}:</label>
        <div class="col-xs-12 col-sm-8">
            <select name="row[form_type]" class="selectpicker" style="width: 150px;">
                <option value="text">文本</option>
                <option value="select">下拉列表</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2"><font color='red'>*</font>{:__('numBer')}:</label>
        <div class="col-xs-12 col-sm-8">
            <select name="row[number]" class="selectpicker" style="width: 150px;">
                {volist name="number" id="data"}
                <option value="{$data}">{$data}</option>
                {/volist}
            </select>
        </div>
    </div>-->
    
    <div class="form-group">
        <label for="rf_year" class="control-label col-xs-12 col-sm-2"><font color='red'>*</font>{:__('rfYear')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" style="width: 220px;" id="rf_year" name="row[rf_year]" value="" data-rule="required;rf_year" />
        </div>
    </div>
    
      <div class="form-group">
        <label for="code" class="control-label col-xs-12 col-sm-2">{:__('orderNo')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input type="text" class="form-control" style="width: 220px;" id="orderNo" name="row[order_no]" value="" />
        </div>
    </div>
    

    
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('theirGarden')}:</label>
        <div class="col-xs-12 col-sm-8">
            <select name="row[their_garden]" class="selectpicker" style="width: 150px;">
                {foreach $their_garden as $k => $v}
                <option value="{$v.id}">{$v.company_park_name}</option>
                {/foreach}
            </select>
        </div>
    </div>
   <!-- rf_class   {:__('list1')}-->
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <select name="row[rf_class]" class="selectpicker" id="select1" style="width: 150px;">
                <option value="0">无</option>
                <option value="1">月</option>
                <option value="2">季</option>
                <option value="3">年</option>
            </select>
            <select name="row[rf_class]" class="selectpicker" id="select2" style="width: 150px;">
             <!--   {volist name="list1" id="data"}
                <option value="{$data}">{$data}</option>
                {/volist}-->
                <option value="1" selected="selected">1</option>
                <option value="2" >2</option>
            </select>
        </div>
    </div>
    
    <div class="form-group">
        <label for="rf_year" class="control-label col-xs-12 col-sm-2">{:__('YearComment')}:</label>
        <div class="col-xs-12 col-sm-8">
            <textarea name="row[rf_note]" class="form-control"  rows="5" id="rf_note"></textarea>
        </div>
    </div>
    <div class="form-group hidden layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
<script type="text/javascript" charset="utf-8" src="/assets/libs/jquery/dist/jquery.min.js"></script>
<script>
     $(function(){
       $("#select1").change(function(){
          //if($("#select1 option:checked" ).val == 1){
          //alert("提交");
          //alert($("#select1 option:checked" ).val());
            $.ajax({
                type: "GET",
                url: "modular/yearassessmodular/relation",
                contentType: "application/x-www-form-urlencoded;charset=utf-8",
                data:{
                    "number" : $("#select1 option:checked" ).val()
                },
                dataType: "json",
                success: function(data) {   //返回的结果
                    //alert("提交" + JSON.stringify(data));
                    //$("#select2 option:checked" )
                    let data1 = [1,2,3];
                    for(var i = 0; i < data1.length; i++){
                        $("#select2").append("<option value='"+data1[i]+"'>"+data1[i]+"</option>");//新增
                    }
                    $("#select2 option:eq(0)").attr('selected', 'selected');//选中第一个

                },
        
                error: function(data) {
                    alert("提交失败" + JSON.stringify(data));
                }
            });
          //}
         });
       });
       //$.ajax({
       //      type: "GET",
       //      url: "https://p.3.cn/prices/mgets",
       //      contentType: "application/x-www-form-urlencoded;charset=utf-8",
       //      data:{},
       //      dataType: "json",
       //      success: function(data) {   //返回的结果
       //          alert("提交" + JSON.stringify(data));
       //      },
       //
       //      error: function(data) {
       //          alert("提交失败" + JSON.stringify(data));
       //      }
       //   });
</script>
